# üöÄ Deploy Quick Reference

–ö—Ä–∞—Ç–∫–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –¥–µ–ø–ª–æ—é –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ SSH/Apache —Å–µ—Ä–≤–µ—Ä.

## üìù Quick Start (–ü–µ—Ä–≤—ã–π —Ä–∞–∑)

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ SSH –∫–ª—é—á (–µ—Å–ª–∏ –Ω–µ—Ç)
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id -p 22 user@your-server.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–±–µ–∑ –ø–∞—Ä–æ–ª—è!)
ssh user@your-server.com
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–µ–ø–ª–æ—è

–û—Ç–∫—Ä–æ–π—Ç–µ `scripts/deploy.sh` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
REMOTE_USER="your_username"      # –≤–∞—à SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
REMOTE_HOST="your-server.com"    # IP –∏–ª–∏ –¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞
REMOTE_PATH="/var/www/html"      # –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å–∞–π—Ç–∞
SSH_PORT="22"                    # SSH –ø–æ—Ä—Ç
```

### 3. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º

```bash
chmod +x scripts/deploy.sh
```

## üéØ –ö–æ–º–∞–Ω–¥—ã –¥–µ–ø–ª–æ—è

```bash
# –¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥–æ–Ω (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
npm run deploy:dry-run

# –†–µ–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π
npm run deploy
```

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] SSH –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–∞—Ä–æ–ª—è
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `scripts/deploy.sh` –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π (`chmod +x scripts/deploy.sh`)
- [ ] rsync —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`which rsync`)
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (`npm run build`)
- [ ] –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Apache –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Apache –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server.com

# –í–∫–ª—é—á–∏—Ç–µ mod_rewrite (–¥–ª—è SPA —Ä–æ—É—Ç–∏–Ω–≥–∞)
sudo a2enmod rewrite

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞
sudo nano /etc/apache2/sites-available/000-default.conf
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `<VirtualHost>`:

```apache
<Directory /var/www/html>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>
```

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Apache
sudo systemctl restart apache2

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status apache2
```

## üêõ Troubleshooting

### "Permission denied (publickey)"
```bash
# SSH –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
ssh-copy-id -p 22 user@your-server.com
```

### "rsync: command not found"
```bash
# Linux
sudo apt install rsync

# macOS
brew install rsync
```

### "REMOTE_USER is not configured"
```bash
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ scripts/deploy.sh
nano scripts/deploy.sh
```

### –°–∞–π—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 404 –Ω–∞ –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
```bash
# .htaccess –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ AllowOverride
sudo nano /etc/apache2/sites-available/000-default.conf
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ AllowOverride All —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Apache
sudo systemctl restart apache2
```

### "Permission denied" –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤
```bash
# –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo chown -R your_user:your_user /var/www/html
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

```bash
# HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
curl -I http://your-server.com

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–∞–≤–Ω–æ–π
curl http://your-server.com | head -20

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open http://your-server.com

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã
ssh user@your-server.com
ls -la /var/www/html/
```

## üìÅ –ß—Ç–æ –¥–µ–ø–ª–æ–∏—Ç—Å—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `npm run deploy`:

1. **–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**: `npm run build`
   - –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è prebuild —Å–∫—Ä–∏–ø—Ç—ã (export-news, inject-data, generate-routes, sitemap)
   - Vite —Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –≤ `dist/`
   - –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è `.htaccess`
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è react-snap –¥–ª—è –ø—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: `rsync -az --delete`
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `dist/` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
   - –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è (`--delete`)
   - –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Ç–æ–ª—å–∫–æ SSH keys**, –Ω–µ –ø–∞—Ä–æ–ª–∏
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
- –•—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ `~/.ssh/` —Å –ø—Ä–∞–≤–∞–º–∏ `600`
- –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é: [README.md - –†–∞–∑–¥–µ–ª –î–µ–ø–ª–æ–π](./README.md#-–¥–µ–ø–ª–æ–π)

---

**–°–æ–∑–¥–∞–Ω–æ**: 2026-01-14  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-01-14
